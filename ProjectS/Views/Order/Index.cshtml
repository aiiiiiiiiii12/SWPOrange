﻿@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model List<CartItem>
@{
    var products = ViewData["products"] as List<Product>;
}



<div class="ht__bradcaump__area" style="background: rgba(0, 0, 0, 0) url(/images/bg/2.jpg) no-repeat scroll center center / cover ;">
    <div class="ht__bradcaump__wrap">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="bradcaump__inner text-center">
                        <h2 class="bradcaump-title">Checkout</h2>
                        <nav class="bradcaump-inner">
                            <a class="breadcrumb-item" href="index.html">Home</a>
                            <span class="brd-separetor">/</span>
                            <span class="breadcrumb-item active">Checkout</span>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<section class="blog-details-wrap ptb--120 bg__white" style="border-top: 2px;" ">
    <div class="container" ">
        <div class="row">
            <div class="col-md-12 col-lg-8">

                <div class="blog-details-left-sidebar">
                    <div class="blog-details-top">
                        <h2 style=" margin-bottom: 20px; font-size: 28px; padding-top: 0px" class="section-title-3">Thông tin nhận hàng</h2>

                        <div class="blog-details-pra" style="border-top: 1px solid #4c4c4c; border-bottom: 1px solid #4c4c4c">

                            <br><p style=" margin-bottom: 5px ;color: black;"><input type="radio" name="choise" id="1"> Delivery To Address</p>
                            <p style="margin-bottom: 5px; color: black;">Transport fee: <span style="color: red;">Miễn phí </span></p>
                            <p style="margin-bottom: 5px;font-weight: 600">
                                Miễn phí giao hàng áp dụng cho đơn hàng giao tận nơi với tất cả các đơn nhận tại cửa hàng (Click & Collect). Sau khi ấn Thanh Toán, các sản phẩm trong giỏ hàng sẽ mất.
                            </p>
                        </div>
                        <!-- End Blog Pra -->
                        <!-- Start Blog Tags -->
                        <form style="padding-top: 20px" asp-action="ProcessOrder" asp-controller="Order" method="post">
                            <div>
                                <div class="blog-details-pra">
                                    <div class="container">
                                        <div id="add" class="row">
                                            <div style="padding-left: 0px" class="col-2">
                                                <br><p style="color: black;">Address :</p>
                                            </div>
                                            <div class="col-4">
                                                <br><p style="color: black;">Bac Hong, Xã Chiềng On, Huyện Yên Châu, Sơn La 09877890987/0987890987</p>
                                            </div>
                                            <div class="col-4"></div>
                                            <div style=" margin-top: 35px" class="col-2">
                                                <button data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 120px; height: 30px; background-color: black; color: white; border-radius: 4px;  ">  Thay đổi</button>
                                            </div>
                                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                        </div>
                                                        <div class="modal-body">
                                                            ...
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                            <button type="button" class="btn btn-primary">Save changes</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="margin-bottom: 15px" class="row">
                                            <div style="padding-left: 0px" class="col-md-6">
                                                Email:
                                                <input type="text" name="email" />
                                            </div>
                                            <div class="col-md-6">
                                                Note:
                                                <input type="text" name="email" />
                                            </div>

                                        @if (TempData["Error"] != null)
                                        {
                                                <div style="margin-bottom: 15px" class="row">
                                                    <div style="padding-left: 0px" class="col-md-6">
                                                        <p class="text-danger" >@TempData["Error"] </p>
                                                    </div>
                                                </div>
                                        }

                                        </div>
                                    </div>
                                </div>
                                <div class="form-check">
                                    <input checked value="1" class="form-check-input" type="radio" name="payment" id="flexRadioDefault1" onchange="handleRadioChange(1)">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Ship cod
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input value="2" class="form-check-input" type="radio" name="payment" id="flexRadioDefault2" onchange="handleRadioChange(2)">
                                    <label class="form-check-label" for="flexRadioDefault2">
                                        Thanh toán bằng Paypal
                                    </label>
                                </div>

                                <input type="text" name="total" value="@ViewData["total"]" hidden />
                                <div class="blog-details-pra" style="border-bottom: 1px solid #4c4c4c">
                                    <br>
                                    <p>
                                        <input style=" height: 50px; border-radius: 4px; width: 300px; color: white; background-color: black" type="submit" value="Thanh toán" />
                                    </p><br>
                                </div>
                            </div>

                        </form>


                        <!-- End Blog Tags -->
                        <!-- Start Blog Comment Area -->
                        <div class="our-blog-comment mt--20">
                        </div>
                        <!-- End Blog Comment Area -->
                        <!-- Start Reply Form -->
                        <div class="our-reply-form-area mt--20">
                        </div>
                        <!-- End Reply Form -->
                    </div>
                </div>

            </div>
            <div class="col-md-12 col-lg-4  smt-30 xmt-40">
                <div class="blod-details-right-sidebar">
                    <div class="category-search-area" style="border-top: 1px solid;border-bottom: 1px solid;border-left: 1px solid;border-right: 1px solid;">
                        <div class="container">
                            <div class="row">
                                <div class="col-7">
                                    <br><h3 style="font-weight: 600;color: black;">TOTAL ORDERS </h3>
                                    <br><h6>Total</h6>
                                    <br><h3 style="font-weight: 600;color: black;">TOTAL</h3>
                                    Value added tax included<br>
                                    <br><h3 style="font-weight: 600;color: black;">TOTAL ORDERS</h3></br>
                                </div>
                                <div class="col-5">
                                    <br><a href="#"><h3 style="font-weight: 600;color: black; text-decoration: underline;">FIX</h3><br></a>
                                    <br><h6>>@ViewData["total"].000VND</h6>
                                    <br><h3 style="font-weight: 600;color: black;">@ViewData["total"].000VND</h3>
                                    317.273 VND<br>
                                    <h3 style="font-weight: 600;color: black;">@ViewData["total"].000VND</h3>
                                </div>
                            </div>
                        </div>
                    </div><br>
                    <!-- Start Category Area -->
                    <div class="category-search-area" style="border-top: 1px solid;border-bottom: 1px solid;border-left: 1px solid;border-right: 1px solid;">

                        <div class="container">
                            <br><h3 style="font-weight: 600;color:  black;">ORDERS PRODUCT</h3><br>
                            <div class="row">
                            @foreach (var l in Model)
                            {
                                    <div class="col-4">
                                    @if (products != null)
                                    {
                                        @foreach (var i in products)
                                        {
                                            if (i.ProductId == l.ProductId)
                                            {
                                                    <img src="@i.ImageMain">
                                            }
                                        }
                                    }

                                        <h6>x@(l.Quantity)</h6><br>
                                    </div>
                            }
                            </div>
                        </div><br>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    var addDiv = document.getElementById("add");
    function handleRadioChange(radio) {
        var addDiv = document.getElementById("add");
        addDiv.hidden = !addDiv.hidden;
    }
</script>